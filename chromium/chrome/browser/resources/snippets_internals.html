<!--
Copyright 2016 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<!DOCTYPE html>
<meta charset="utf-8">
<if expr="is_android or is_ios">
<meta name="viewport" content="width=device-width, initial-scale=1.0,
    maximum-scale=1.0, user-scalable=no">
</if>
<title>Snippets Internals</title>
<link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
<link rel="stylesheet" href="snippets_internals.css">
<script src="chrome://resources/js/cr.js"></script>
<script src="chrome://resources/js/jstemplate_compiled.js"></script>
<script src="chrome://resources/js/util.js"></script>
<script src="snippets_internals.js"></script>

<div id="info">
   <div>
    <h2>Properties</h2>
    <table class="section-details">
      <tr>
        <td class="name">Snippets enabled
        <td id="flag-snippets" class="value">
      <tr>
        <td class="name">Article Suggestions enabled
        <td id="flag-article-suggestions" class="value">
      <tr>
        <td class="name">Recent Tab Suggestions enabled
        <td id="flag-recent-offline-tab-suggestions" class="value">
      <tr>
        <td class="name">Download Suggestions enabled
        <td id="flag-download-suggestions" class="value">
      <tr>
        <td class="name">Bookmark Suggestions enabled
        <td id="flag-bookmark-suggestions" class="value">
      <tr>
        <td class="name">Physical Web Page Suggestions enabled
        <td id="flag-physical-web-page-suggestions" class="value">
      <tr>
        <td class="name">Snippets type
        <td id="switch-personalized" class="value">
      <tr>
        <td class="name">Snippets fetch URL
        <td id="switch-fetch-url" class="value">
    </table>
  </div>

  <div>
    <h2>UserClassifier</h2>
    <table class="section-details">
      <tr>
        <td class="name">User class
        <td id="user-class" class="value">
      <tr>
        <td class="name">Estimated average time to open NTP
        <td id="avg-time-to-open-ntp" class="value">
      <tr>
        <td class="name">Estimated average time to show suggestions
        <td id="avg-time-to-show" class="value">
      <tr>
        <td class="name">Estimated average time to use suggestions
        <td id="avg-time-to-use" class="value">
    </table>
    <button id="clear-classification" type="button">
      Clear my classification
    </button>
  </div>

  <div id="snippets">
    <h2>NTPSnippetsService</h2>
    <div class="forms">
      <button id="submit-download" type="button">Add snippets</button>
      <span id="hosts-restrict">from hosts:
        <textarea id="hosts-input" placeholder="www.wired.com www.bbc.co.uk"
            rows="5" autocapitalize="none"></textarea>
      </span>
      <span id="hosts-status" class="detail"></span>
    </div>
  </div>

  <div id="last-json" class="hidden">
    <h2>Last JSON from Server</h2>
    <a id="last-json-button">Show the last JSON &gt;&gt;</a>
    <div id="last-json-container" class="hidden">
      <div id="last-json-text"></div>
      <button id="last-json-dump" type="button">Dump the last JSON</button>
    </div>
  </div>

  <div id="content-suggestions">
    <h2>Content suggestions by category
      <span class="detail">(click for details)</span>
      <button id="submit-dump" type="button">Dump the list</button>
    </h2>
    <div jsselect="list" style="display:none">
      <h3>
        <span jscontent="title"></span>
        <span class="detail">
          (<span jscontent="status"></span>)
        </span>

        <button jsvalues="category-id:categoryId" type="button"
            class="submit-clear-cached-suggestions">
          Clear cached suggestions
        </button>
        <button jsvalues="category-id:categoryId" type="button"
            class="toggle-dismissed-suggestions">
          Show dismissed suggestions
        </button>
        <button jsvalues="category-id:categoryId" type="button"
            class="submit-clear-dismissed-suggestions">
          Clear dismissed suggestions
        </button>
      </h3>

      <table class="section-details">
        <tr jsselect="suggestions" style="display:none">
          <td class="title-link">
            <span class="hidden-toggler content-suggestion-title"
                jsvalues="hidden-id:id">
              <span jscontent="title"></span>&gt;&gt;
            </span>
            <div jsvalues="id:id" class="content-suggestion-detail hidden">
              <table>
                <tr>
                  <td>ID
                  <td jscontent="idWithinCategory">
                <tr>
                  <td>URL
                  <td><a class="url" jsvalues="href:url" jscontent="url"></a>
                <tr>
                  <td>AMP URL
                  <td>
                    <a class="amp-url" jsvalues="href:ampUrl"
                        jscontent="ampUrl"></a>
                <tr>
                  <td>Snippet text
                  <td jscontent="snippetText">
                <tr>
                  <td>Publish date
                  <td class="expiry">
                    <span class="date" jscontent="publishDate"></span>
                <tr>
                  <td>Publisher name
                  <td jscontent="publisherName">
              </table>
            </div>
      </table>

      <table jsvalues="id:dismissedContainerId"
          class="section-details hidden">
        <thead>
          <tr>
            <th style="text-align:left">Dismissed suggestions
        </thead>
        <tr jsselect="dismissedSuggestions" style="display:none">
          <td class="title-link">
            <span class="hidden-toggler content-suggestion-title"
                jsvalues="hidden-id:id">
              <span jscontent="title"></span> (dismissed)&gt;&gt;
            </span>
            <div jsvalues="id:id" class="content-suggestion-detail hidden">
              <table>
                <tr>
                  <td>ID
                  <td jscontent="suggestionId">
                <tr>
                  <td>URL
                  <td><a class="url" jsvalues="href:url" jscontent="url"></a>
                <tr>
                  <td>AMP URL
                  <td>
                    <a class="amp-url" jsvalues="href:ampUrl"
                        jscontent="ampUrl"></a>
                <tr>
                  <td>Snippet text
                  <td jscontent="snippetText">
                <tr>
                  <td>Publish date
                  <td class="expiry">
                    <span class="date" jscontent="publishDate"></span>
                <tr>
                  <td>Publisher name
                  <td jscontent="publisherName">
              </table>
            </div>
      </table>
    </div>
    <div class="detail" id="content-suggestions-empty"></div>
  </div>
</div>
